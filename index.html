<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pro Resume Builder - 5 Templates</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Roboto:wght@300;400;700&family=Playfair+Display:wght@700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
:root { --primary: #163b56; --text: #333; }
*{box-sizing:border-box; font-family:'Poppins', sans-serif}
body{margin:0; background:#e0e0e0; padding:20px}

.wrapper{ max-width:1300px; margin:0 auto; display:flex; gap:20px; }

/* EDITOR STYLES */
.editor{ width:35%; background:#fff; padding:25px; border-radius:12px; height: 95vh; overflow-y: auto; box-shadow:0 10px 30px rgba(0,0,0,0.1); }
.editor h2 { margin-top:0; color: var(--primary); border-bottom: 2px solid #eee; padding-bottom: 10px;}
.editor label { font-size: 12px; font-weight: 600; color: #666; display: block; margin-bottom: 5px;}
input, textarea, select { width:100%; padding:10px; margin-bottom:15px; border:1px solid #ddd; border-radius:6px; font-size: 14px;}
textarea { min-height: 80px; resize: vertical; }

.btn-group { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px;}
button { padding:12px; border:none; border-radius:6px; cursor:pointer; font-weight:600; transition: 0.3s; }
.btn-download { background:#27ae60; color:#fff; }
.btn-print { background:#163b56; color:#fff; }
button:hover { opacity: 0.9; transform: translateY(-1px); }

/* RESUME VIEWPORT */
.resume-container { width:65%; background:#bbb; padding:20px; display:flex; justify-content:center; border-radius:12px; overflow: hidden;}
.resume-paper { width:210mm; min-height:297mm; background:#fff; box-shadow:0 0 20px rgba(0,0,0,0.2); overflow:hidden; position: relative; }

/* ---------------------------------
   TEMPLATE 1: MODERN NAVY (Original)
--------------------------------- */
.tpl-modern { display: flex; min-height: 297mm; }
.tpl-modern .side { width: 33%; background: #163b56; color: #fff; padding: 30px 20px; }
.tpl-modern .main { width: 67%; padding: 40px; }
.tpl-modern .photo { width:130px; height:130px; border-radius:50%; border:4px solid #fff; margin:0 auto 20px; display:block; object-fit: cover;}
.tpl-modern h3 { font-size:14px; border-bottom:1px solid rgba(255,255,255,0.2); padding-bottom:5px; margin-top:25px;}
.tpl-modern .main h3 { color:#163b56; border-bottom: 2px solid #eee; }

/* ---------------------------------
   TEMPLATE 2: EXECUTIVE (Minimalist)
--------------------------------- */
.tpl-executive { padding: 50px; }
.tpl-executive .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
.tpl-executive .photo { width:100px; height:100px; float: left; border-radius: 8px; margin-right: 20px;}
.tpl-executive .contact-bar { display: flex; justify-content: center; gap: 15px; font-size: 12px; margin-top: 10px; color: #555; }
.tpl-executive .grid { display: grid; grid-template-columns: 1fr 2fr; gap: 30px; }
.tpl-executive h3 { font-family: 'Montserrat'; text-transform: uppercase; font-size: 14px; color: #000; letter-spacing: 1px;}

/* ---------------------------------
   TEMPLATE 3: CREATIVE (Sidebar Right)
--------------------------------- */
.tpl-creative { display: flex; flex-direction: row-reverse; }
.tpl-creative .side { width: 30%; background: #f4f4f4; padding: 30px 20px; border-left: 5px solid #e74c3c; }
.tpl-creative .main { width: 70%; padding: 40px; }
.tpl-creative .name { font-family: 'Playfair Display'; font-size: 40px; color: #e74c3c; }

/* ---------------------------------
   TEMPLATE 4: THE STARTUP (Bold & Dark)
--------------------------------- */
.tpl-startup .header { background: #222; color: #fff; padding: 40px; display: flex; align-items: center; justify-content: space-between;}
.tpl-startup .main-content { padding: 40px; display: grid; grid-template-columns: 1fr 1fr; gap: 40px;}
.tpl-startup .full-width { grid-column: span 2; }
.tpl-startup h3 { background: #f1c40f; color: #000; display: inline-block; padding: 2px 10px; border-radius: 4px; }

/* ---------------------------------
   TEMPLATE 5: THE CLASSIC (Clean Lines)
--------------------------------- */
.tpl-classic { padding: 40px; font-family: 'Roboto', sans-serif; }
.tpl-classic .header { border-left: 10px solid #3498db; padding-left: 20px; margin-bottom: 30px;}
.tpl-classic h3 { color: #3498db; text-transform: uppercase; font-weight: 700; font-size: 16px; margin-top: 30px;}
.tpl-classic .content-row { display: flex; border-bottom: 1px solid #eee; padding: 15px 0; }
.tpl-classic .label { width: 30%; font-weight: bold; color: #666;}
.tpl-classic .val { width: 70%; }

/* Common Inner Elements */
ul { padding-left: 18px; margin: 5px 0; }
li { font-size: 13px; margin-bottom: 5px; }
p { font-size: 13px; line-height: 1.6; }
</style>
</head>
<body>

<div class="wrapper">
  <div class="editor">
    <h2>Resume Editor</h2>
    
    <label>Choose Template</label>
    <select id="tplSelect" onchange="changeTemplate()">
      <option value="tpl-modern">Modern Navy (Split)</option>
      <option value="tpl-executive">Executive (Clean)</option>
      <option value="tpl-creative">Creative (Right Sidebar)</option>
      <option value="tpl-startup">Startup (Dark Header)</option>
      <option value="tpl-classic">Classic (Professional)</option>
    </select>

    <label>Profile Picture</label>
    <input type="file" id="photo" accept="image/*">

    <label>Full Name</label>
    <input id="name" placeholder="John Doe" oninput="update()">
    
    <label>Job Title</label>
    <input id="role" placeholder="Senior Developer" oninput="update()">

    <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px">
      <div><label>Email</label><input id="email" placeholder="email@example.com" oninput="update()"></div>
      <div><label>Phone</label><input id="phone" placeholder="+1 234..." oninput="update()"></div>
    </div>

    <label>Address</label>
    <input id="address" placeholder="New York, USA" oninput="update()">

    <label>Profile Summary</label>
    <textarea id="profile" placeholder="Briefly describe your career goals..." oninput="update()"></textarea>

    <label>Education</label>
    <textarea id="education" placeholder="Bachelor of Science, University X" oninput="update()"></textarea>

    <label>Experience (One per line)</label>
    <textarea id="experience" placeholder="Workplace 1 - Senior Role (2020-2024)" oninput="update()"></textarea>

    <label>Skills (Comma separated)</label>
    <input id="skills" placeholder="JavaScript, React, SQL" oninput="update()">

    <label>Languages</label>
    <input id="languages" placeholder="English, French" oninput="update()">

    <label>References / Links</label>
    <textarea id="refInput" placeholder="Name - Position - Contact Info or Portfolio Links" oninput="update()"></textarea>

    <div class="btn-group">
      <button class="btn-download" onclick="downloadPDF()">Download PDF</button>
      <button class="btn-print" onclick="window.print()">Print</button>
    </div>
  </div>

  <div class="resume-container">
    <div class="resume-paper" id="resume">
      </div>
  </div>
</div>

<script>
const id = x => document.getElementById(x);
let photoData = "";

// Template HTML generation
function renderTemplate() {
  const tpl = id("tplSelect").value;
  const name = id("name").value || "YOUR NAME";
  const role = id("role").value || "YOUR JOB TITLE";
  const profile = id("profile").value || "Professional profile summary goes here...";
  const ref = id("refInput").value || "Available upon request";
  
  const skills = id("skills").value.split(",").filter(s => s.trim()).map(s => `<li>${s.trim()}</li>`).join("");
  const exp = id("experience").value.split("\n").filter(e => e.trim()).map(e => `<li>${e}</li>`).join("");
  
  const photoHtml = photoData ? `<img src="${photoData}" class="photo">` : `<div class="photo" style="background:#ddd; display:flex; align-items:center; justify-content:center; color:#888; font-size:10px">No Photo</div>`;

  let html = "";

  if(tpl === 'tpl-modern') {
    html = `
      <div class="tpl-modern">
        <div class="side">
          ${photoHtml}
          <h3>CONTACT</h3>
          <p>${id("phone").value}<br>${id("email").value}<br>${id("address").value}</p>
          <h3>SKILLS</h3><ul>${skills}</ul>
          <h3>LANGUAGES</h3><p>${id("languages").value}</p>
        </div>
        <div class="main">
          <div style="font-size:32px; font-weight:600; color:#163b56">${name}</div>
          <div style="color:#666; letter-spacing:2px">${role}</div>
          <div style="width:50px; height:3px; background:#163b56; margin:20px 0"></div>
          <h3>PROFILE</h3><p>${profile}</p>
          <h3>EXPERIENCE</h3><ul>${exp}</ul>
          <h3>EDUCATION</h3><p>${id("education").value}</p>
          <h3>REFERENCES</h3><p>${ref}</p>
        </div>
      </div>`;
  } else if(tpl === 'tpl-executive') {
    html = `
      <div class="tpl-executive">
        <div class="header">
          <div style="font-size:36px; font-weight:700;">${name}</div>
          <div style="font-size:16px; color:#c0392b">${role}</div>
          <div class="contact-bar">${id("email").value} | ${id("phone").value} | ${id("address").value}</div>
        </div>
        <div class="grid">
          <div>
            <h3>Skills</h3><ul>${skills}</ul>
            <h3>Education</h3><p>${id("education").value}</p>
          </div>
          <div>
            <h3>Summary</h3><p>${profile}</p>
            <h3>Experience</h3><ul>${exp}</ul>
            <h3>References</h3><p>${ref}</p>
          </div>
        </div>
      </div>`;
  } else if(tpl === 'tpl-creative') {
    html = `
      <div class="tpl-creative">
        <div class="side">
          ${photoHtml}
          <h3>Connect</h3>
          <p>${id("email").value}<br>${id("phone").value}</p>
          <h3>Abilities</h3><ul>${skills}</ul>
        </div>
        <div class="main">
          <div class="name">${name}</div>
          <div style="font-size:18px; color:#e74c3c; margin-bottom:20px">${role}</div>
          <h3>About Me</h3><p>${profile}</p>
          <h3>Experience</h3><ul>${exp}</ul>
          <h3>References</h3><p>${ref}</p>
        </div>
      </div>`;
  } else if(tpl === 'tpl-startup') {
    html = `
      <div class="tpl-startup">
        <div class="header">
          <div>
            <div style="font-size:32px; font-weight:700">${name}</div>
            <div>${role}</div>
          </div>
          <div style="text-align:right; font-size:12px">${id("email").value}<br>${id("phone").value}</div>
        </div>
        <div class="main-content">
          <div class="full-width"><h3>The Summary</h3><p>${profile}</p></div>
          <div><h3>Skillset</h3><ul>${skills}</ul></div>
          <div><h3>Education</h3><p>${id("education").value}</p></div>
          <div class="full-width"><h3>Experience</h3><ul>${exp}</ul></div>
          <div class="full-width"><h3>Links & References</h3><p>${ref}</p></div>
        </div>
      </div>`;
  } else {
    html = `
      <div class="tpl-classic">
        <div class="header">
          <div style="font-size:32px">${name}</div>
          <div style="font-size:18px; color:#666">${role}</div>
        </div>
        <div class="content-row"><div class="label">Contact</div><div class="val">${id("email").value} | ${id("phone").value}</div></div>
        <div class="content-row"><div class="label">Profile</div><div class="val">${profile}</div></div>
        <div class="content-row"><div class="label">Skills</div><div class="val">${id("skills").value}</div></div>
        <div class="content-row"><div class="label">Experience</div><div class="val"><ul>${exp}</ul></div></div>
        <div class="content-row"><div class="label">Education</div><div class="val">${id("education").value}</div></div>
        <div class="content-row"><div class="label">References</div><div class="val">${ref}</div></div>
      </div>`;
  }

  id("resume").innerHTML = html;
}

function update() { renderTemplate(); }
function changeTemplate() { renderTemplate(); }

id("photo").addEventListener("change", function() {
  const file = this.files[0];
  if (file) {
    const r = new FileReader();
    r.onload = (e) => { photoData = e.target.result; renderTemplate(); };
    r.readAsDataURL(file);
  }
});

async function downloadPDF() {
  const { jsPDF } = window.jspdf;
  const element = id("resume");
  
  const canvas = await html2canvas(element, { scale: 2, useCORS: true });
  const imgData = canvas.toDataURL("image/png");
  const pdf = new jsPDF("p", "mm", "a4");
  
  const pdfWidth = pdf.internal.pageSize.getWidth();
  const pdfHeight = (canvas.height * pdfWidth) / canvas.width;

  pdf.addImage(imgData, "PNG", 0, 0, pdfWidth, pdfHeight);
  pdf.save(`${id("name").value || "Resume"}.pdf`);
}

// Initial render
renderTemplate();
</script>

</body>
</html>