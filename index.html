<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Executive Architect | AI Resume Screening System</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Plus+Jakarta+Sans:wght@700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
:root {
  --app-dark: #0f172a;
  --app-panel: #1e293b;
  --app-accent: #38bdf8;
  --app-border: #334155;
  --navy-primary: #163b56;
  --match-color: #10b981;
}

* { box-sizing: border-box; font-family: 'Inter', sans-serif; }
body { margin: 0; background: var(--app-dark); color: #f8fafc; display: flex; overflow: hidden; }

/* SIDEBAR UI */
.sidebar {
  width: 420px; height: 100vh; background: var(--app-panel);
  border-right: 1px solid var(--app-border); padding: 25px; overflow-y: auto;
}
.sidebar h2 { font-family: 'Plus Jakarta Sans'; font-size: 18px; color: var(--app-accent); margin-bottom: 20px; text-transform: uppercase; }

/* AI ANALYZER CARD (Private Sidebar Tool) */
.ai-card {
  background: #0f172a; border-radius: 8px; padding: 15px; margin-bottom: 25px; border: 1px solid var(--app-border);
}
.ai-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
.score-circle { width: 55px; height: 55px; border-radius: 50%; border: 3px solid var(--match-color); display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px; color: var(--match-color); transition: 0.3s; }

/* FORM ELEMENTS */
label { font-size: 10px; font-weight: 700; color: #94a3b8; text-transform: uppercase; margin-top: 15px; display: block; }
input, textarea, select {
  width: 100%; background: #0f172a; border: 1px solid var(--app-border); border-radius: 6px;
  padding: 10px; color: #fff; margin-top: 5px; font-size: 13px;
}
textarea { height: 80px; }

.btn-group { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 25px; padding-bottom: 40px;}
.btn { padding: 12px; border-radius: 6px; font-weight: 700; cursor: pointer; border: none; transition: 0.2s; }
.btn-primary { background: var(--app-accent); color: #000; }
.btn-secondary { background: #334155; color: #fff; }

/* VIEWPORT */
.viewport {
  flex-grow: 1; height: 100vh; padding: 40px; overflow-y: auto;
  background: radial-gradient(circle, #1e293b 1px, transparent 1px); background-size: 25px 25px;
  display: flex; justify-content: center;
}

.resume-paper {
  width: 210mm; min-height: 297mm; background: #fff; color: #1e293b;
  box-shadow: 0 30px 60px rgba(0,0,0,0.5); position: relative;
}

/* PHOTO STYLE */
.photo-round {
  width: 120px; height: 120px; border-radius: 50%;
  object-fit: cover; border: 3px solid rgba(255,255,255,0.3); margin-bottom: 15px;
  display: flex; align-items: center; justify-content: center; text-align: center;
}

/* ---------------------------------
   THE 6 PREMIUM THEMES (CLEAN)
--------------------------------- */
.tpl-navy { display: flex; min-height: 297mm; background: #fff; }
.tpl-navy .side { width: 33%; background: var(--navy-primary); color: #fff; padding: 40px 25px; }
.tpl-navy .main { width: 67%; padding: 50px; }
.tpl-navy .photo-round { background: #24527a; }

.tpl-chancellor { display: flex; min-height: 297mm; background: #fdfaf0; }
.tpl-chancellor .side { width: 35%; background: #2d3436; color: #fab1a0; padding: 40px 25px; }
.tpl-chancellor .main { width: 65%; padding: 50px; }
.tpl-chancellor .photo-round { background: #40494b; }

.tpl-slate { display: flex; flex-direction: column; background: #f0f4f8; min-height: 297mm; }
.tpl-slate .header { background: #334155; color: #f1f5f9; padding: 40px; display: flex; align-items: center; gap: 30px; }
.tpl-slate .body { padding: 40px; display: grid; grid-template-columns: 1fr 2fr; gap: 30px; }
.tpl-slate .photo-round { background: #475569; }

.tpl-midnight { padding: 50px; background: #1a1c23; color: #e2e8f0; min-height: 297mm; }
.tpl-midnight .grid { display: grid; grid-template-columns: 1fr 2fr; gap: 40px; margin-top: 20px; }
.tpl-midnight .photo-round { background: #2d313d; border-color: var(--app-accent); }

.tpl-phoenix { display: flex; min-height: 297mm; background: #fffcf2; }
.tpl-phoenix .side { width: 32%; background: #4a0e0e; color: #fff; padding: 30px 20px; text-align: center; }
.tpl-phoenix .main { width: 68%; padding: 50px; }
.tpl-phoenix .photo-round { background: #631717; margin: 0 auto 15px; }

.tpl-oceanic { background: #f0fff4; min-height: 297mm; }
.tpl-oceanic .top-bar { background: #004d4d; color: #ccffcc; padding: 40px; display: flex; justify-content: space-between; align-items: center; }
.tpl-oceanic .container { padding: 40px; column-count: 2; column-gap: 30px; }
.tpl-oceanic .photo-round { background: #006666; }

/* TYPOGRAPHY */
h3 { font-size: 12px; text-transform: uppercase; letter-spacing: 1.2px; border-bottom: 1px solid rgba(0,0,0,0.1); padding-bottom: 5px; margin-top: 20px; }
.side h3 { border-color: rgba(255,255,255,0.2); }
ul { padding-left: 15px; font-size: 13px; }
p { font-size: 13px; line-height: 1.6; }
</style>
</head>
<body>

<div class="sidebar">
  <h2>Resume Architect</h2>

  <div class="ai-card">
    <div class="ai-header">
      <span style="font-size: 12px; font-weight: bold;">AI Optimization (Private)</span>
      <div id="scoreDisplay" class="score-circle">0%</div>
    </div>
    <label style="margin-top:0">Target Job Description</label>
    <textarea id="jobDesc" placeholder="Paste requirements here to analyze your content..." oninput="analyzeMatch()"></textarea>
    <div id="aiAdvice" style="font-size: 11px; color: #94a3b8; margin-top: 8px;"></div>
  </div>

  <label>Design Template</label>
  <select id="tplSelect" onchange="update()">
    <option value="tpl-navy">1. Modern Navy</option>
    <option value="tpl-chancellor">2. The Chancellor</option>
    <option value="tpl-slate">3. Slate Tech</option>
    <option value="tpl-midnight">4. Midnight Silver</option>
    <option value="tpl-phoenix">5. The Phoenix</option>
    <option value="tpl-oceanic">6. Oceanic</option>
  </select>

  <label>Profile Picture</label>
  <input type="file" id="photo" accept="image/*">

  <label>Full Name</label>
  <input id="name" placeholder="Robert Sterling" oninput="update()">

  <label>Designation</label>
  <input id="role" placeholder="Chief Operating Officer" oninput="update()">

  <label>Contact Info</label>
  <input id="email" placeholder="r.sterling@corp.com" oninput="update()">
  <input id="phone" placeholder="+1 (555) 000-0000" oninput="update()">

  <label>Professional Profile</label>
  <textarea id="profile" placeholder="Executive summary..." oninput="update(); analyzeMatch();"></textarea>

  <label>Experience (Line per job)</label>
  <textarea id="experience" placeholder="CEO - Global Tech (2020-2024)" oninput="update(); analyzeMatch();"></textarea>

  <label>Education</label>
  <textarea id="education" placeholder="MBA, Stanford University" oninput="update()"></textarea>

  <label>Skills (Comma separated)</label>
  <input id="skills" placeholder="Leadership, M&A, Strategy" oninput="update(); analyzeMatch();">

  <label>References / Links</label>
  <textarea id="refInput" placeholder="www.portfolio.com" oninput="update()"></textarea>

  <div class="btn-group">
    <button class="btn btn-primary" onclick="downloadPDF()">Download PDF</button>
    <button class="btn btn-secondary" onclick="window.print()">Print</button>
  </div>
</div>

<div class="viewport">
  <div class="resume-paper" id="resume"></div>
</div>

<script>
const id = x => document.getElementById(x);
let photoData = "";

// PRIVATE AI ANALYSIS LOGIC
function analyzeMatch() {
  const jobText = id("jobDesc").value.toLowerCase();
  const resumeText = (id("skills").value + " " + id("experience").value + " " + id("profile").value).toLowerCase();

  if(!jobText || !resumeText) {
    id("scoreDisplay").innerText = "0%";
    return;
  }

  const keywords = jobText.match(/\b(\w{5,})\b/g) || [];
  const uniqueKeys = [...new Set(keywords)];
  let matches = 0;
  let missing = [];

  uniqueKeys.forEach(k => {
    if(resumeText.includes(k)) matches++;
    else missing.push(k);
  });

  const score = Math.min(Math.round((matches / uniqueKeys.length) * 120), 100);
  id("scoreDisplay").innerText = score + "%";

  // Color change based on score
  if(score > 75) id("scoreDisplay").style.borderColor = "#10b981";
  else if(score > 40) id("scoreDisplay").style.borderColor = "#f59e0b";
  else id("scoreDisplay").style.borderColor = "#ef4444";

  id("aiAdvice").innerHTML = score > 75 ? "ðŸ”¥ Strong Job Match!" : "ðŸ’¡ Missing Keywords: " + missing.slice(0, 3).join(", ");
}

function update() {
  const tpl = id("tplSelect").value;
  const name = id("name").value || "YOUR NAME";
  const role = id("role").value || "JOB TITLE";
  const email = id("email").value || "email@example.com";
  const phone = id("phone").value || "000-000-0000";
  const profile = id("profile").value || "Executive summary...";
  const edu = id("education").value || "Education details...";
  const ref = id("refInput").value || "References available...";
  const skills = id("skills").value.split(",").filter(s => s.trim()).map(s => `<li>${s.trim()}</li>`).join("");
  const exp = id("experience").value.split("\n").filter(e => e.trim()).map(e => `<li>${e}</li>`).join("");

  const img = photoData ? `<img src="${photoData}" class="photo-round">` : `<div class="photo-round">Photo</div>`;

  let html = "";
  if(tpl === 'tpl-navy') {
    html = `<div class="tpl-navy"><div class="side">${img}<h3>Contact</h3><p>${email}<br>${phone}</p><h3>Education</h3><p>${edu}</p><h3>Skills</h3><ul>${skills}</ul></div><div class="main"><h1 style="color:var(--navy-primary); margin:0">${name}</h1><p style="font-weight:700; color:#666">${role}</p><h3>Profile</h3><p>${profile}</p><h3>Experience</h3><ul>${exp}</ul><h3>Links</h3><p>${ref}</p></div></div>`;
  } else if(tpl === 'tpl-chancellor') {
    html = `<div class="tpl-chancellor"><div class="side">${img}<h3>Contact</h3><p>${email}<br>${phone}</p><h3>Education</h3><p>${edu}</p><h3>Skills</h3><ul>${skills}</ul></div><div class="main"><h1>${name}</h1><p style="color:#d63031; font-weight:700">${role}</p><h3>Profile</h3><p>${profile}</p><h3>History</h3><ul>${exp}</ul><h3>Ref</h3><p>${ref}</p></div></div>`;
  } else if(tpl === 'tpl-slate') {
    html = `<div class="tpl-slate"><div class="header">${img}<div><h1 style="margin:0">${name}</h1><p>${role}</p><p style="font-size:12px">${email} | ${phone}</p></div></div><div class="body"><div><h3>Education</h3><p>${edu}</p><h3>Skills</h3><ul>${skills}</ul></div><div><h3>Overview</h3><p>${profile}</p><h3>Experience</h3><ul>${exp}</ul><h3>Links</h3><p>${ref}</p></div></div></div>`;
  } else if(tpl === 'tpl-midnight') {
    html = `<div class="tpl-midnight"><h1>${name}</h1><p style="color:var(--app-accent)">${role} | ${email}</p><div class="grid"><div>${img}<h3>Education</h3><p>${edu}</p><h3>Expertise</h3><ul>${skills}</ul></div><div><h3>Executive Summary</h3><p>${profile}</p><h3>Experience</h3><ul>${exp}</ul><h3>Links</h3><p>${ref}</p></div></div></div>`;
  } else if(tpl === 'tpl-phoenix') {
    html = `<div class="tpl-phoenix"><div class="side">${img}<h3>Contact</h3><p>${email}<br>${phone}</p><h3>Education</h3><p>${edu}</p></div><div class="main"><h1 style="color:#4a0e0e; font-size:40px; margin:0">${name}</h1><p>${role}</p><h3>Background</h3><p>${profile}</p><h3>Experience</h3><ul>${exp}</ul><h3>Skills</h3><ul>${skills}</ul><h3>Links</h3><p>${ref}</p></div></div>`;
  } else {
    html = `<div class="tpl-oceanic"><div class="top-bar"><div><h1 style="margin:0">${name}</h1><p>${role}</p></div>${img}</div><div class="container"><h3>Summary</h3><p>${profile}</p><h3>Education</h3><p>${edu}</p><h3>Experience</h3><ul>${exp}</ul><h3>Skills</h3><ul>${skills}</ul><p>${email}<br>${phone}</p><h3>Ref</h3><p>${ref}</p></div></div>`;
  }

  id("resume").innerHTML = html;
}

id("photo").addEventListener("change", function() {
  const file = this.files[0];
  if (file) {
    const r = new FileReader();
    r.onload = (e) => { photoData = e.target.result; update(); };
    r.readAsDataURL(file);
  }
});

async function downloadPDF() {
  const element = id("resume");
  const canvas = await html2canvas(element, { scale: 2 });
  const imgData = canvas.toDataURL("image/png");
  const pdf = new jspdf.jsPDF("p", "mm", "a4");
  const width = pdf.internal.pageSize.getWidth();
  const height = (canvas.height * width) / canvas.width;
  pdf.addImage(imgData, "PNG", 0, 0, width, height);
  pdf.save(`${id("name").value || "Executive_Resume"}.pdf`);
}

update();
</script>

</body>
</html>

