<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Executive Architect | Multi-Page Engine</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Plus+Jakarta+Sans:wght@700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
:root {
  --app-dark: #0f172a; --app-panel: #1e293b; --app-accent: #38bdf8;
  --app-border: #334155; --navy-primary: #163b56;
}

* { box-sizing: border-box; font-family: 'Inter', sans-serif; }
body { margin: 0; background: var(--app-dark); color: #f8fafc; display: flex; overflow: hidden; }

/* SIDEBAR */
.sidebar { width: 420px; height: 100vh; background: var(--app-panel); border-right: 1px solid var(--app-border); padding: 25px; overflow-y: auto; }
.sidebar h2 { font-family: 'Plus Jakarta Sans'; font-size: 18px; color: var(--app-accent); text-transform: uppercase; margin-bottom: 20px; }

/* LIVE JOB SCOUT UI */
.ai-scout-panel { background: #0f172a; border-radius: 8px; padding: 15px; margin-bottom: 25px; border: 1px solid var(--app-accent); }
.job-item { background: #1e293b; padding: 10px; border-radius: 6px; margin-bottom: 8px; border-left: 3px solid var(--app-accent); }
.job-item h4 { margin: 0; font-size: 12px; color: #fff; }

/* FORM ELEMENTS */
label { font-size: 10px; font-weight: 700; color: #94a3b8; text-transform: uppercase; margin-top: 15px; display: block; }
input, textarea, select { width: 100%; background: #0f172a; border: 1px solid var(--app-border); border-radius: 6px; padding: 10px; color: #fff; margin-top: 5px; font-size: 13px; }
textarea { height: 80px; }

.btn-group { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 25px; padding-bottom: 40px;}
.btn { padding: 12px; border-radius: 6px; font-weight: 700; cursor: pointer; border: none; transition: 0.2s; }
.btn-primary { background: var(--app-accent); color: #000; }
.btn-scout { background: #6366f1; color: #fff; width: 100%; margin-top: 10px; }
.btn-page { background: #10b981; color: #fff; width: 100%; margin-bottom: 10px; }

/* VIEWPORT & PAPER */
.viewport { flex-grow: 1; height: 100vh; padding: 40px; overflow-y: auto; background: #020617; display: flex; flex-direction: column; align-items: center; gap: 30px; }
.resume-paper { width: 210mm; min-height: 297mm; background: #fff; color: #1e293b; box-shadow: 0 30px 60px rgba(0,0,0,0.5); position: relative; flex-shrink: 0; overflow: hidden; }

/* PHOTO STYLES */
.photo-round { width: 130px; height: 130px; border-radius: 50%; object-fit: cover; border: 4px solid rgba(255,255,255,0.2); margin-bottom: 20px; display: flex; align-items: center; justify-content: center; font-weight: bold; }

/* TEMPLATES */
.tpl-navy { display: flex; min-height: 100%; }
.tpl-navy .side { width: 33%; background: var(--navy-primary); color: #fff; padding: 40px 25px; }
.tpl-navy .main { width: 67%; padding: 50px; }
.tpl-navy .photo-round { background: #24527a; color: #fff; }

.tpl-chancellor { display: flex; min-height: 100%; background: #fdfaf0; }
.tpl-chancellor .side { width: 35%; background: #2d3436; color: #fab1a0; padding: 40px 25px; }
.tpl-chancellor .main { width: 65%; padding: 50px; }
.tpl-chancellor .photo-round { background: #40494b; color: #fab1a0; }

.tpl-slate { display: flex; flex-direction: column; min-height: 100%; background: #f0f4f8; }
.tpl-slate .header { background: #334155; color: #f1f5f9; padding: 50px; display: flex; align-items: center; gap: 40px; }
.tpl-slate .body { padding: 50px; display: grid; grid-template-columns: 1fr 2fr; gap: 40px; }
.tpl-slate .photo-round { background: #475569; color: #cbd5e1; }

.tpl-midnight { padding: 50px; background: #1a1c23; color: #e2e8f0; min-height: 100%; }
.tpl-midnight .grid { display: grid; grid-template-columns: 1fr 2fr; gap: 40px; margin-top: 30px; }
.tpl-midnight .photo-round { background: #2d313d; color: #94a3b8; border-color: #38bdf8; }

.tpl-phoenix { display: flex; min-height: 100%; background: #fffcf2; }
.tpl-phoenix .side { width: 32%; background: #4a0e0e; color: #fff; padding: 40px 20px; text-align: center; }
.tpl-phoenix .main { width: 68%; padding: 50px; }
.tpl-phoenix .photo-round { background: #631717; color: #ffcece; margin: 0 auto 20px; }

.tpl-oceanic { background: #f0fff4; min-height: 100%; }
.tpl-oceanic .top-bar { background: #004d4d; color: #ccffcc; padding: 60px; display: flex; justify-content: space-between; align-items: center; }
.tpl-oceanic .container { padding: 50px; column-count: 2; column-gap: 40px; }
.tpl-oceanic .photo-round { background: #006666; color: #ccffcc; }

h3 { font-size: 13px; text-transform: uppercase; letter-spacing: 1.5px; border-bottom: 1px solid rgba(0,0,0,0.1); padding-bottom: 5px; margin-top: 25px; }
.side h3 { border-color: rgba(255,255,255,0.2); }
.exp-heading { font-weight: 700; color: inherit; font-size: 14px; margin-top: 15px; display: block; }
.exp-content { font-size: 13px; line-height: 1.6; margin-bottom: 10px; display: block; }
p, li { font-size: 13px; line-height: 1.6; }
</style>
</head>
<body>

<div class="sidebar">
  <h2>Executive Architect</h2>

  <div class="ai-scout-panel">
    <span style="font-size: 11px; font-weight: bold; color: var(--app-accent);">GLOBAL JOB SCOUT (LIVE)</span>
    <input id="targetCountry" placeholder="Enter Country (e.g. USA, UK, India)">
    <button class="btn btn-scout" onclick="scanLive()">Find Official Jobs</button>
    <div id="jobList" style="margin-top:10px; max-height:120px; overflow-y:auto;"></div>
  </div>

  <button class="btn btn-page" id="addPageBtn" onclick="addPage()">+ Add Page 2</button>

  <label>Design Template</label>
  <select id="tplSelect" onchange="update()">
    <option value="tpl-navy">1. Modern Navy</option>
    <option value="tpl-chancellor">2. The Chancellor</option>
    <option value="tpl-slate">3. Slate Tech</option>
    <option value="tpl-midnight">4. Midnight Silver</option>
    <option value="tpl-phoenix">5. The Phoenix</option>
    <option value="tpl-oceanic">6. Oceanic</option>
  </select>

  <label>Profile Picture</label>
  <input type="file" id="photo" accept="image/*">

  <label>Full Name & Designation</label>
  <input id="name" placeholder="Johnathan Doe" oninput="update()">
  <input id="role" placeholder="Senior Docker Specialist" oninput="update()">

  <label>Contact (Email / Phone)</label>
  <input id="email" placeholder="email@example.com" oninput="update()">
  <input id="phone" placeholder="+1 234 567 890" oninput="update()">

  <label>Professional Profile (Page 1)</label>
  <textarea id="profile" oninput="update()"></textarea>

  <label>Experience (Page 1)</label>
  <div id="expContainerP1">
    <input class="exp-h-p1" placeholder="Job Title / Company" oninput="update()">
    <textarea class="exp-c-p1" placeholder="Main achievements..." oninput="update()"></textarea>
  </div>
  <button class="btn" style="background:#334155; color:#fff; font-size:10px; margin-top:5px" onclick="addExpField('P1')">+ Add Experience</button>

  <div id="p2Sidebar" style="display:none; border-top: 2px solid var(--app-accent); margin-top: 20px; padding-top: 10px;">
    <span style="color:var(--app-accent); font-weight:bold; font-size:12px;">PAGE 2 CONTENT</span>
    <label>Professional Profile (Page 2)</label>
    <textarea id="profile2" oninput="update()"></textarea>
    <label>Experience (Page 2)</label>
    <div id="expContainerP2">
      <input class="exp-h-p2" placeholder="Job Title / Company" oninput="update()">
      <textarea class="exp-c-p2" placeholder="Additional achievements..." oninput="update()"></textarea>
    </div>
    <button class="btn" style="background:#334155; color:#fff; font-size:10px; margin-top:5px" onclick="addExpField('P2')">+ Add Experience (Page 2)</button>
  </div>

  <label>Education (Comma = New Line)</label>
  <textarea id="edu" placeholder="University, Degree, Year" oninput="update()"></textarea>

  <label>Skills & References</label>
  <input id="skills" placeholder="Skill 1, Skill 2" oninput="update()">
  <textarea id="ref" placeholder="Reference contacts..." oninput="update()"></textarea>

  <label>Other Informations</label>
  <textarea id="otherInfo" placeholder="Certifications, Languages, Awards, etc." oninput="update()"></textarea>
  <div class="btn-group">
    <button class="btn btn-primary" onclick="downloadPDF()">Download PDF</button>
    <button class="btn btn-secondary" onclick="window.print()">Print</button>
  </div>
</div>

<div class="viewport" id="viewport">
  <div class="resume-paper" id="resume-p1"></div>
</div>

<script>
const id = x => document.getElementById(x);
let photoData = "";
let hasP2 = false;

function addExpField(page) {
    const container = id("expContainer" + page);
    const h = document.createElement("input");
    h.className = "exp-h-" + page.toLowerCase(); h.placeholder = "Job Title / Company"; h.oninput = update;
    const c = document.createElement("textarea");
    c.className = "exp-c-" + page.toLowerCase(); c.placeholder = "Main achievements..."; c.oninput = update;
    container.appendChild(h); container.appendChild(c);
}

function addPage() {
    if(hasP2) return;
    hasP2 = true;
    id("p2Sidebar").style.display = "block";
    const p2 = document.createElement('div');
    p2.className = "resume-paper"; p2.id = "resume-p2";
    id("viewport").appendChild(p2);
    id("addPageBtn").innerText = "Page 2 Active";
    update();
}

function scanLive() {
  const role = id("role").value;
  const country = id("targetCountry").value || "Global";
  const list = id("jobList");
  
  if(!role) { 
    alert("Please enter a Designation first!"); 
    return; 
  }
  
  list.innerHTML = "<p style='font-size:10px; color:#38bdf8; text-align:center;'>ðŸš€ Scanning 18+ Global Platforms...</p>";
  
  const sites = [
    { n: "LinkedIn", u: `https://www.linkedin.com/jobs/search/?keywords=${encodeURIComponent(role)}&location=${encodeURIComponent(country)}` },
    { n: "Indeed", u: `https://www.indeed.com/jobs?q=${encodeURIComponent(role)}&l=${encodeURIComponent(country)}` },
    { n: "Glassdoor", u: `https://www.glassdoor.com/Job/jobs.htm?sc.keyword=${encodeURIComponent(role)}` },
    { n: "Monster", u: `https://www.monster.com/jobs/search/?q=${encodeURIComponent(role)}&where=${encodeURIComponent(country)}` },
    { n: "ZipRecruiter", u: `https://www.ziprecruiter.com/candidate/search?search=${encodeURIComponent(role)}&location=${encodeURIComponent(country)}` },
    { n: "Dice (Tech)", u: `https://www.dice.com/jobs?q=${encodeURIComponent(role)}` },
    { n: "Robert Half", u: `https://www.roberthalf.com/jobs/${encodeURIComponent(country)}/${encodeURIComponent(role)}` },
    { n: "SimplyHired", u: `https://www.simplyhired.com/search?q=${encodeURIComponent(role)}&l=${encodeURIComponent(country)}` },
    { n: "FlexJobs", u: `https://www.flexjobs.com/search?search=${encodeURIComponent(role)}` },
    { n: "CareerBuilder", u: `https://www.careerbuilder.com/jobs?keywords=${encodeURIComponent(role)}&location=${encodeURIComponent(country)}` },
    { n: "Reed (UK)", u: `https://www.reed.co.uk/jobs/${encodeURIComponent(role)}-jobs` },
    { n: "Seek (AU)", u: `https://www.seek.com.au/${encodeURIComponent(role)}-jobs` },
    { n: "Naukri (IN)", u: `https://www.naukri.com/${role.replace(/ /g,'-')}-jobs` },
    { n: "TimesJobs (IN)", u: `https://www.timesjobs.com/candidate/job-search.html?searchType=personalizedSearch&from=submit&txtKeywords=${encodeURIComponent(role)}` },
    { n: "StepStone (EU)", u: `https://www.stepstone.de/jobs/${encodeURIComponent(role)}` },
    { n: "Wellfound (Startups)", u: `https://wellfound.com/jobs?query=${encodeURIComponent(role)}` },
    { n: "Hired.com", u: `https://hired.com/x/search/jobs?search_term=${encodeURIComponent(role)}` },
    { n: "Totaljobs", u: `https://www.totaljobs.com/jobs/${encodeURIComponent(role)}` }
  ];

  list.innerHTML = "";
  sites.forEach(s => {
    list.innerHTML += `
      <div class="job-item" style="display: flex; justify-content: space-between; align-items: center; background: #1e293b; padding: 12px; border-radius: 8px; margin-bottom: 10px; border: 1px solid #334155;">
        <div style="display: flex; flex-direction: column;">
          <h4 style="margin:0; font-size: 13px; color: #f8fafc; font-weight: 600;">${s.n}</h4>
          <span style="font-size: 9px; color: #94a3b8; text-transform: uppercase;">Official Portal</span>
        </div>
        <button 
          onclick="window.open('${s.u}', '_blank')"
          style="background: linear-gradient(135deg, #38bdf8 0%, #0ea5e9 100%); color: #0f172a; border: none; padding: 6px 14px; font-size: 11px; font-weight: 700; border-radius: 20px; cursor: pointer; text-transform: uppercase;"
        >View</button>
      </div>`;
  });
}

function update() {
  const tpl = id("tplSelect").value;
  const name = id("name").value || "YOUR NAME";
  const role = id("role").value || "DESIGNATION";
  const email = id("email").value || "email@example.com";
  const phone = id("phone").value || "000-000-0000";
  const skills = id("skills").value.split(",").map(s => `<li>${s.trim()}</li>`).join("");
  const ref = id("ref").value || "References...";
  const otherInfoText = id("otherInfo").value ? `<h3>Other Information</h3><p>${id("otherInfo").value.replace(/\n/g, '<br>')}</p>` : "";
  
  const eduRaw = id("edu").value;
  const eduHTML = eduRaw.split(",").map(line => line.trim()).filter(line => line).join("<br>");

  const getExpHTML = (selectorH, selectorC) => {
    return Array.from(document.getElementsByClassName(selectorH)).map((h, i) => {
        const content = document.getElementsByClassName(selectorC)[i].value;
        return h.value ? `<span class="exp-heading">${h.value}</span><span class="exp-content">${content}</span>` : "";
    }).join("");
  };

  const img = photoData ? `<img src="${photoData}" class="photo-round">` : `<div class="photo-round">Photo</div>`;

  const render = (template, isP2 = false) => {
    const profileText = isP2 ? id("profile2").value : id("profile").value;
    const expHTML = isP2 ? getExpHTML("exp-h-p2", "exp-c-p2") : getExpHTML("exp-h-p1", "exp-c-p1");
    const otherContent = isP2 ? "" : otherInfoText; 
    
    let html = "";
    if(template === 'tpl-navy') {
      html = `<div class="tpl-navy">
                <div class="side">
                  ${!isP2 ? img : ""}
                  <h3>Contact</h3><p>${email}<br>${phone}</p>
                  <h3>Education</h3><p>${eduHTML}</p>
                  <h3>Skills</h3><ul>${skills}</ul>
                  ${otherContent}
                </div>
                <div class="main">
                  <h1>${name}</h1><p><b>${role}</b></p>
                  <h3>Profile</h3><p>${profileText}</p>
                  <h3>Experience</h3>${expHTML}
                  <h3>References</h3><p>${ref}</p>
                </div>
              </div>`;
    } else if(template === 'tpl-chancellor') {
      html = `<div class="tpl-chancellor">
                <div class="side">
                  ${!isP2 ? img : ""}
                  <h3>Contact</h3><p>${email}<br>${phone}</p>
                  <h3>Education</h3><p>${eduHTML}</p>
                  <h3>Skills</h3><ul>${skills}</ul>
                  ${otherContent}
                </div>
                <div class="main">
                  <h1>${name}</h1><p style="color:#d63031"><b>${role}</b></p>
                  <h3>Profile</h3><p>${profileText}</p>
                  <h3>History</h3>${expHTML}
                  <h3>Links / References</h3><p>${ref}</p>
                </div>
              </div>`;
    } else if(template === 'tpl-slate') {
      html = `<div class="tpl-slate">
                <div class="header">${!isP2 ? img : ""}<div><h1>${name}</h1><p>${role}</p><p style="font-size:12px">${email} | ${phone}</p></div></div>
                <div class="body">
                  <div>
                    <h3>Education</h3><p>${eduHTML}</p>
                    <h3>Skills</h3><ul>${skills}</ul>
                    ${otherContent}
                  </div>
                  <div>
                    <h3>Profile</h3><p>${profileText}</p>
                    <h3>Experience</h3>${expHTML}
                    <h3>References</h3><p>${ref}</p>
                  </div>
                </div>
              </div>`;
    } else if(template === 'tpl-midnight') {
      html = `<div class="tpl-midnight">
                <h1>${name}</h1><p style="color:var(--app-accent)">${role} | ${email} | ${phone}</p>
                <div class="grid">
                  <div>
                    ${!isP2 ? img : ""}
                    <h3>Education</h3><p>${eduHTML}</p>
                    <h3>Skills</h3><ul>${skills}</ul>
                    ${otherContent}
                  </div>
                  <div>
                    <h3>Profile</h3><p>${profileText}</p>
                    <h3>Experience</h3>${expHTML}
                    <h3>References</h3><p>${ref}</p>
                  </div>
                </div>
              </div>`;
    } else if(template === 'tpl-phoenix') {
      html = `<div class="tpl-phoenix">
                <div class="side">
                  ${!isP2 ? img : ""}
                  <h3>Contact</h3><p>${email}<br>${phone}</p>
                  <h3>Education</h3><p>${eduHTML}</p>
                  ${otherContent}
                </div>
                <div class="main">
                  <h1>${name}</h1><p>${role}</p>
                  <h3>Profile</h3><p>${profileText}</p>
                  <h3>History</h3>${expHTML}
                  <h3>Skills</h3><ul>${skills}</ul>
                  <h3>References</h3><p>${ref}</p>
                </div>
              </div>`;
    } else {
      html = `<div class="tpl-oceanic">
                <div class="top-bar"><div><h1>${name}</h1><p>${role} | ${email} | ${phone}</p></div>${!isP2 ? img : ""}</div>
                <div class="container">
                  <h3>Profile</h3><p>${profileText}</p>
                  <h3>Experience</h3>${expHTML}
                  <h3>Skills</h3><ul>${skills}</ul>
                  <h3>Education</h3><p>${eduHTML}</p>
                  <h3>References</h3><p>${ref}</p>
                  ${otherContent}
                </div>
              </div>`;
    }
    return html;
  };

  id("resume-p1").innerHTML = render(tpl, false);
  if(hasP2) id("resume-p2").innerHTML = render(tpl, true);
}

id("photo").addEventListener("change", function() {
  const file = this.files[0];
  if (file) {
    const r = new FileReader();
    r.onload = (e) => { photoData = e.target.result; update(); };
    r.readAsDataURL(file);
  }
});

async function downloadPDF() {
  const pdf = new jspdf.jsPDF("p", "mm", "a4");
  const pages = document.querySelectorAll(".resume-paper");
  for(let i=0; i<pages.length; i++) {
    const canvas = await html2canvas(pages[i], { scale: 2 });
    if(i > 0) pdf.addPage();
    pdf.addImage(canvas.toDataURL("image/png"), "PNG", 0, 0, 210, 297);
  }
  pdf.save("Professional_Resume.pdf");
}
update();
</script>
</body>
</html>
